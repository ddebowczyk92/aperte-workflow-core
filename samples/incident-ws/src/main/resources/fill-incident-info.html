<#assign null = "null"/>

<#assign canEdit = false>
<#assign provider = attributesProvider.getProvider()>
<#assign name = provider.getSimpleAttributeValue("name")!"">
<#assign surname = provider.getSimpleAttributeValue("surname")!"">
<#assign incidentDescription = provider.getSimpleAttributeValue("incident-description")!"">
<div class="form-group input-group-sm ">
    <label name="tooltip" title="Incident Process" class="col-sm 2 control-label required">
        Incident Process
    </label>

    <div class="col-sm-9">
        <div class="form-group">
            <label for="name-${widgetId}">Name</label>
            <input type="text" id="name-${widgetId}" maxlength="30" class="form-control" <#if canEdit>disabled</#if> value="${name}" required/>
        </div>
        <div class="form-group">
            <label for="surname-${widgetId}">Surname</label>
            <input type="text" id="surname-${widgetId}" maxlength="30" class="form-control" <#if canEdit>disabled</#if> value="${surname}" required/>
        </div>
        <div class="form-group">
            <label for="incident-description-${widgetId}">Incident description</label>
            <input  id="incident-description-${widgetId}" maxlength="500" class="form-control" rows="3" <#if canEdit>disabled</#if> value="${incidentDescription}" required/>
        </div>


    </div>
</div>
<script type="text/javascript">
    $(document).ready(function()
    {
        var widget = new Widget('${widgetName}', '${widgetId}', '${task.internalTaskId}');

        widget.getData = function() {
            var data = [
                {"key" : "name", "value" : $("#name-${widgetId}").val(), "type" : "simple" },
                {"key" : "surname", "value" : $("#surname-${widgetId}").val(), "type" : "simple" },
                {"key" : "incident-description", "value" : $("#incident-description-${widgetId}").val(), "type" : "simple" }
            ];
            return data;
        };

        widget.validate = function() {
            var errors = [];

            var name = $("#name-${widgetId}").val();
            if(!name) {
                $('#warning').show();
            }

            return errors;
        };

        widgets.push(widget);

    });




</script>